model Carts {
    id          String      @id @default(uuid())
    user_id     String
    user        User        @relation("UserCarts", fields: [user_id], references: [id])
    provider_id String
    provider    User        @relation("ProviderCarts", fields: [provider_id], references: [id])
    status      CartStatus  @default(ACTIVE)
    total_price Float       @default(0) @db.DoublePrecision
    created_at  DateTime    @default(now())
    updated_at  DateTime    @updatedAt
    cartItems   CartItems[]

    @@map("carts")
}

enum CartStatus {
    ACTIVE
    ORDERED
    CANCELLED
}

model CartItems {
    id               String @id @default(uuid())
    cart_id          String
    cart             Carts  @relation(fields: [cart_id], references: [id], onDelete: Cascade)
    meal_id          String
    meal             Meals  @relation(fields: [meal_id], references: [id], onDelete: Cascade)
    quantity         Int    @db.Integer
    unit_price       Float  @db.DoublePrecision
    sub_total_amount Float  @default(0) @db.DoublePrecision

    @@map("cart_items")
}
